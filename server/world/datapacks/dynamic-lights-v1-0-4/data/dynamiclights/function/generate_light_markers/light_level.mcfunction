$execute if data storage dynamiclights:config settings{carried_items: true} as @e[distance = ..80] if items entity @s weapon.* #dynamiclights:light_levels/all/$(light_level) run function dynamiclights:generate_light_markers/all {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{carried_items: true} as @e[distance = ..80] if items entity @s weapon.* #dynamiclights:light_levels/air_only/$(light_level) run function dynamiclights:generate_light_markers/air_only {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{carried_items: true} as @e[distance = ..80] if items entity @s weapon.* #dynamiclights:light_levels/water_only/$(light_level) run function dynamiclights:generate_light_markers/water_only {light_level: $(light_level)}

$execute if data storage dynamiclights:config settings{mobs: true} as @e[type = #dynamiclights:light_levels/all/$(light_level), distance = ..80] at @s run function dynamiclights:generate_light_markers/all {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{mobs: true} as @e[type = #dynamiclights:light_levels/air_only/$(light_level), distance = ..80] at @s run function dynamiclights:generate_light_markers/air_only {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{mobs: true} as @e[type = #dynamiclights:light_levels/water_only/$(light_level), distance = ..80] at @s run function dynamiclights:generate_light_markers/water_only {light_level: $(light_level)}

$execute if data storage dynamiclights:config settings{dropped_items: true} as @e[type = item, distance = ..80] if items entity @s contents #dynamiclights:light_levels/all/$(light_level) run function dynamiclights:generate_light_markers/all {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{dropped_items: true} as @e[type = item, distance = ..80] if items entity @s contents #dynamiclights:light_levels/air_only/$(light_level) run function dynamiclights:generate_light_markers/air_only {light_level: $(light_level)}
$execute if data storage dynamiclights:config settings{dropped_items: true} as @e[type = item, distance = ..80] if items entity @s contents #dynamiclights:light_levels/water_only/$(light_level) run function dynamiclights:generate_light_markers/water_only {light_level: $(light_level)}