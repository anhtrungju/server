{
    "anvil_cost": 4,
    "description": {
      "translate": "Thunderstruck"
    },
    "effects": {
        "minecraft:post_attack": [
            {
              "affected": "victim",
              "enchanted": "attacker",
              "effect": {
                "type": "minecraft:run_function",
                "function": "enchantingplus:thunderstruck"
              },
        "requirements": {
            "condition": "minecraft:entity_properties",
            "entity": "direct_attacker",
            "predicate": {
              "flags": {
                "is_flying": false
              },
              "movement": {
                "fall_distance": {
                  "min": 4
                }
              }
            }
          }
        }
      ],
      "minecraft:damage_immunity": [
        {
          "effect": {},
          "requirements": {
            "condition": "minecraft:all_of",
            "terms": [
              {
                "condition": "minecraft:damage_source_properties",
                "predicate": {
                  "tags": [
                    {
                      "expected": true,
                      "id": "enchantinplus:lightning_bolt"
                    },
                    {
                      "expected": false,
                      "id": "minecraft:bypasses_invulnerability"
                    }
                  ]
                }
              },
              {
                "condition": "minecraft:entity_properties",
                "entity": "direct_attacker",
                "predicate": {
                  "flags": {
                    "is_flying": false
                  },
                  "movement": {
                    "fall_distance": {
                      "min": 4
                    }
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "max_cost": {
      "base": 64,
      "per_level_above_first": 9
    },
    "max_level": 3,
    "min_cost": {
      "base": 20,
      "per_level_above_first": 10
    },
    "slots": [
      "mainhand"
    ],
    "exclusive_set": "#enchantingplus:exclusive_set/mace",
    "supported_items": "#minecraft:enchantable/mace",
    "weight": 2
  }