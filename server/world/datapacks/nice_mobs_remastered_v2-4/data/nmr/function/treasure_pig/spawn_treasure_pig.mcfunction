execute store result score $nmr_treasure_type nmr.technical run random value 1..3

execute if score $nmr_treasure_type nmr.technical matches 1 at @e[type=marker,tag=nmr_treasure_pig_spawner,distance=..32,limit=1,sort=nearest] run summon pig ~ ~ ~ {Tags:["nmr_headmob_base","nmr_treasure_pig","nmr_resized","nmr_baby_rider_set","nmr_speed_set"],PersistenceRequired:1b,Health:50f,Saddle:0b,attributes:[{id:"minecraft:generic.max_absorption",base:2},{id:"minecraft:generic.max_health",base:50},{id:"minecraft:generic.movement_speed",base:0.4}],Passengers:[{id:"minecraft:item_display",Passengers:[{id:"minecraft:area_effect_cloud",Duration:18000,Tags:["nmr_treasure_pig_timer"]}],view_range:48f,Tags:["nmr_headmob_head","nmr_treasure_pig_head"],transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,.57f,-0.05f],scale:[2f,1.2f,1.4f]},item:{id:"minecraft:player_head",count:1,components:{profile:{name:"treasure",properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZDhjMWUxYzYyZGM2OTVlYjkwZmExOTJkYTZhY2E0OWFiNGY5ZGZmYjZhZGI1ZDI2MjllYmZjOWIyNzg4ZmEyIn19fQ=="}]}}}}]}
execute if score $nmr_treasure_type nmr.technical matches 2 at @e[type=marker,tag=nmr_treasure_pig_spawner,distance=..32,limit=1,sort=nearest] run summon pig ~ ~ ~ {Tags:["nmr_headmob_base","nmr_treasure_pig","nmr_resized","nmr_baby_rider_set","nmr_speed_set"],PersistenceRequired:1b,Health:50f,Saddle:0b,attributes:[{id:"minecraft:generic.max_absorption",base:2},{id:"minecraft:generic.max_health",base:50},{id:"minecraft:generic.movement_speed",base:0.4}],Passengers:[{id:"minecraft:item_display",Passengers:[{id:"minecraft:area_effect_cloud",Duration:18000,Tags:["nmr_treasure_pig_timer"]}],view_range:48f,Tags:["nmr_headmob_head","nmr_treasure_pig_head"],transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,.57f,-0.05f],scale:[2f,1.2f,1.4f]},item:{id:"minecraft:player_head",count:1,components:{profile:{name:"treasure",properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNzhmODhiMTYxNzYzZjYyZTRjNTFmNWViMWQzOGZhZjNiODJjNDhhODM5YWMzMTcxMjI5NTU3YWRlNDI3NDM0In19fQ=="}]}}}}]}
execute if score $nmr_treasure_type nmr.technical matches 3 at @e[type=marker,tag=nmr_treasure_pig_spawner,distance=..32,limit=1,sort=nearest] run summon pig ~ ~ ~ {Tags:["nmr_headmob_base","nmr_treasure_pig","nmr_resized","nmr_baby_rider_set","nmr_speed_set"],PersistenceRequired:1b,Health:50f,Saddle:0b,attributes:[{id:"minecraft:generic.max_absorption",base:2},{id:"minecraft:generic.max_health",base:50},{id:"minecraft:generic.movement_speed",base:0.4}],Passengers:[{id:"minecraft:item_display",Passengers:[{id:"minecraft:area_effect_cloud",Duration:18000,Tags:["nmr_treasure_pig_timer"]}],view_range:48f,Tags:["nmr_headmob_head","nmr_treasure_pig_head"],transformation:{left_rotation:[0f,0f,0f,1f],right_rotation:[0f,0f,0f,1f],translation:[0f,.57f,-0.05f],scale:[2f,1.2f,1.4f]},item:{id:"minecraft:player_head",count:1,components:{profile:{name:"treasure",properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGNjNzk5NTRkMzUwYTk4YzcyMTcyNTY4MzFmNjVjNjJhNDI4MDc0YjZlNGFlOWVlZGU3YTQ0ZjlkZTRhNyJ9fX0="}]}}}}]}

kill @e[type=marker,tag=nmr_treasure_pig_spawner,distance=..32,limit=1,sort=nearest]

execute as @e[type=pig,tag=nmr_treasure_pig] run team join nmr_special_mobs @s
execute as @e[type=item_display,tag=nmr_treasure_pig_head] run team join nmr_special_mobs @s